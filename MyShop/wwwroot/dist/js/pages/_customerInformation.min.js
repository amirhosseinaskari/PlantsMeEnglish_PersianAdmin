!async function () { let e = await import("./_layout.min.js"); e.topMenuFunction(), e.persianNumberParse(), e.mobileMenuCategoryNavigation(), e.menuCategoryNavigation(), e.passwordVisible(), e.convertPersianNumbersToEnglish() }(), async function () { let e = await import("../components/_wavebutton.min.js"); e.waveButton(), e.ripple() }(); import { persianNumberParse, scrollToTop, lazyLoading, ajaxLoader } from "./_layout.min.js"; function validateSendNewMessage() { let e = document.querySelector(".customer-form"); if (!e) return !1; let t = e.querySelector('input[name="ticketSubject"]'), r = e.querySelector('textarea[name="ticketDescription"]'), n = e.querySelector(".send-ticket-submit-button"); n && n.addEventListener("click", n => { if (null === t.value || "" === t.value.trim()) { n.stopPropagation(), n.preventDefault(); let t = e.querySelector(".ticketSubject-error"); t.classList.remove("d-none"), t.innerHTML = "پر کردن این فیلد الزامی است" } if (null === r.value || "" === r.value.trim()) { n.stopPropagation(), n.preventDefault(); let t = e.querySelector(".ticketDescription-error"); t.classList.remove("d-none"), t.innerHTML = "پر کردن این فیلد الزامی است" } }, !1), t.addEventListener("focus", t => { let r = e.querySelector(".ticketSubject-error"); r.classList.add("d-none"), r.innerHTML = "" }, !1), r.addEventListener("focus", t => { let r = e.querySelector(".ticketDescription-error"); r.classList.add("d-none"), r.innerHTML = "" }, !1) } function errorHandling(e) { console.log(e) } function removeTicket() { let e = document.querySelectorAll(".delete-ticket-link"); if (!e) return !1; e.forEach(e => { e.addEventListener("click", t => { let r = e.getAttribute("data-id"), n = document.querySelector("#item-remove-modal"); if (!n) return !1; n.querySelector('input[name="id"]').value = r }, !1) }) } function partialLinkClick(e) { let t = e.getAttribute("data-target-url"); ajaxLoader("GET", t, null, errorHandling, e => { document.querySelector("#main-content-container").innerHTML = e, persianNumberParse(), validateSendNewMessage(), paginationFire(); let t = document.querySelectorAll(".partial-top-link"); if (!t) return !1; t.forEach(e => { e.addEventListener("click", t => { partialLinkClick(e) }, !1) }) }, null, !1) } async function partialLinkTrigger() { let e = document.querySelectorAll(".partial-top-link"); if (!e) return !1; e.forEach(e => { e.addEventListener("click", t => { partialLinkClick(e) }, !1) }) } async function paginationFire() { let e = document.querySelectorAll(".pagination--button"); if (!e) return !1; let t = e => { let t = document.querySelector("#ticket-list-container"); t && (t.innerHTML = e, removeTicket(), paginationFire(), partialLinkTrigger()) }; e.forEach(e => { e.addEventListener("click", async r => { r.preventDefault(), r.stopPropagation(); let n = `pageIndex=${e.getAttribute("data-page-index")}`; await ajaxLoader("POST", "/Customer/TicketList", n, errorHandling, t, null, !1) }, !1) }) } lazyLoading(), removeTicket(), partialLinkTrigger(), (async () => { let e = document.querySelector(".customer-form"); if (!e) return !1; let t = e.querySelector(".submit-form"); if (!t) return !1; t.addEventListener("click", t => { let r = e.querySelector('input[name="Mobile"]'), n = r.value; r.value = (e => { if (!e) return !1; let t = { "۰": 0, "۱": 1, "۲": 2, "۳": 3, "۴": 4, "۵": 5, "۶": 6, "۷": 7, "۸": 8, "۹": 9 }, r = e.match(/[۰۱۲۳۴۵۶۷۸۹]/g); if (null !== r && 0 !== r.length) for (let n = 0; n < r.length; n++)e = e.replace(r[n], t[r[n]]); return e })(n) }, !1) })(), (async () => { await paginationFire() })();