!async function () { let e = await import("./_layout.js"); e.topMenuFunction(), e.mobileMenuCategoryNavigation(), e.menuCategoryNavigation(), e.passwordVisible(), e.convertPersianNumbersToEnglish() }(); import { setComma, ajaxLoader, scrollToTop, lazyLoading } from "./_layout.js"; setComma(), lazyLoading(), async function () { let e = await import("../components/_wavebutton.js"); e.waveButton(), e.ripple() }(); let desktopFilterBox = document.querySelector("#filters-container"), mobileFilterBox = document.querySelector("#mobile-filters-container"), mobileBlogSort = document.getElementById("mobile-sortList-options"), mobileSortListItems = mobileBlogSort.querySelectorAll(".sortList-options__list-item"), desktopBlogSort = document.getElementById("desktop-blogs-sort"), desktopSortListItems = desktopBlogSort.querySelectorAll(".sortList-options__list-item"); function sortAjaxErrorHandling(e) { console.log(e) } let paginationFire = async function () { document.querySelectorAll(".pagination--button").forEach(e => { e.addEventListener("click", async t => { t.preventDefault(), t.stopPropagation(); let o = desktopBlogSort.querySelector(".sortList-options__list-item--selected"), l = e.getAttribute("data-page-index"); await blogSort(o, l, desktopFilterBox, "Desktop") }, !1) }) }; async function blogSort(e, t, o, l) { let r = e.getAttribute("data-value"), i = document.querySelector(".category-detail__blog-list"), s = null; s = "Desktop" === l ? document.querySelector("#desktop-blog-search-text").value : document.querySelector("#mobile-blog-search-text").value, i.setAttribute("data-sort-value", r); let a = o.querySelectorAll('input[name="blogCategoryCheckbox"]'), c = o.querySelectorAll('input[name="blogCategoryCheckbox"]:checked'), n = null; c.length > 0 && (n = Array.prototype.map.call(c, e => e.getAttribute("data-id"))); let d = null; if ("Desktop" === l) { a.forEach(e => { let t = e.getAttribute("data-id"); mobileFilterBox.querySelector(`input[name="blogCategoryCheckbox"][data-id="${t}"]`).checked = e.checked }); let e = null; null != n && (e = "", n.forEach(t => { e += `blogCatIds=${t}&` })), d = `${e}pageIndex=${t}\n        &searchText=${s}\n        &sort=${r}`, console.log(d) } else { a.forEach(e => { let t = e.getAttribute("data-id"); desktopFilterBox.querySelector(`input[name="blogCategoryCheckbox"][data-id="${t}"]`).checked = e.checked }); let e = null; null != n && (e = "", n.forEach(t => { e += `blogCatIds=${t}&` })), d = `${e}pageIndex=${t}\n        &searchText=${s}\n        &sort=${r}` } await ajaxLoader("POST", "/Blog/BlogListComponent", d, sortAjaxErrorHandling, (t = e) => { desktopSortListItems.forEach(e => { e.classList.remove("sortList-options__list-item--selected") }), mobileSortListItems.forEach(e => { e.classList.remove("sortList-options__list-item--selected") }); let o = `.sortList-options__list-item[data-value="${t.getAttribute("data-value")}"]`; document.querySelectorAll(o).forEach(e => { e.classList.add("sortList-options__list-item--selected"), e.querySelector('input[type="radio"]') && (e.querySelector('input[type="radio"]').checked = !0) }); let l = document.querySelector("#mobile-filter-box__modal"); UIkit.modal(l).hide(), (async () => { await paginationFire() })(), scrollToTop(600), lazyLoading() }, ".category-detail__blog-list", !0) } (async () => { await paginationFire() })(), desktopSortListItems.forEach(e => { e.classList.remove(".sortList-options__list-item--selected"), e.addEventListener("click", async t => { await blogSort(e, 1, desktopFilterBox, "Desktop") }, !1) }), desktopSortListItems[0].classList.add(".sortList-options__list-item--selected"), mobileSortListItems.forEach(e => { e.classList.remove(".sortList-options__list-item--selected"), e.addEventListener("click", async t => { await blogSort(e, 1, mobileFilterBox, "Mobile") }, !1) }), mobileSortListItems[0].classList.add(".sortList-options__list-item--selected"); let runFiltering = async function () { document.querySelector(".category-detail__blog-list"); let e = document.querySelector("#filters-container"), t = desktopBlogSort.querySelector(".sortList-options__list-item--selected"); e.querySelectorAll('input[name="blogCategoryCheckbox"]').forEach(o => { o.addEventListener("change", async o => { t = desktopBlogSort.querySelector(".sortList-options__list-item--selected"), await blogSort(t, 1, e, "Desktop") }, !1) }); let o = document.querySelector("#mobile-filters-container"), l = mobileBlogSort.querySelector(".sortList-options__list-item--selected"); o.querySelectorAll('input[name="blogCategoryCheckbox"]'); o.querySelector(".filter-submit--button").addEventListener("click", async e => { await blogSort(l, 1, o, "Mobile") }, !1) }(); function resetFilters() { document.querySelector(".category-detail__blog-list"); document.querySelector("#filters-container").querySelectorAll('input[name="blogCategoryCheckbox"]').forEach(e => { e.checked = !1 }), document.querySelector("#mobile-filters-container").querySelectorAll('input[name="categoryCheckbox"]').forEach(e => { e.checked = !1 }) } document.querySelector("#desktop-filter-reset").addEventListener("click", async e => { e.preventDefault(), e.stopPropagation(), resetFilters(), document.querySelector("#desktop-blog-search-text").value = null; let t = desktopBlogSort.querySelector(".sortList-options__list-item--selected"); await blogSort(t, 1, desktopFilterBox, "Desktop") }, !1), document.querySelector("#mobile-filter-reset").addEventListener("click", async e => { e.preventDefault(), e.stopPropagation(), resetFilters(), document.querySelector("#mobile-blog-search-text").value = null; let t = mobileBlogSort.querySelector(".sortList-options__list-item--selected"); await blogSort(t, 1, mobileFilterBox, "Mobile") }, !1); let desktopBlogSearchBtn = document.querySelector("#desktop-blog-search"); desktopBlogSearchBtn.addEventListener("click", async e => { e.preventDefault(), e.stopPropagation(), resetFilters(); let t = desktopBlogSort.querySelector(".sortList-options__list-item--selected"); await blogSort(t, 1, desktopFilterBox, "Desktop") }, !1); let mobileBlogSearchBtn = document.querySelector("#mobile-blog-search"); mobileBlogSearchBtn.addEventListener("click", async e => { e.preventDefault(), e.stopPropagation(), resetFilters(); let t = mobileBlogSort.querySelector(".sortList-options__list-item--selected"); await blogSort(t, 1, mobileFilterBox, "Mobile") }, !1);